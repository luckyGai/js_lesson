<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h2>ES6复习</h2>
</body>
<!--<script src="./js/es6.js"></script>-->
<script src="./js/ajax.js"></script>
<script>

//let url='https://api1111.it120.cc/hjl/shop/goods/category/all'

/*
ajax(url,'GET')
    //通常成功返回的处理
    .then(res=>{
        console.log('获取数据：：',res)
    })
    //失败处理
    .catch(error=>{
        console.log('失败的处理',error)
    })
    .finally(res=>{
        console.log('数据请求完毕！')
    })
*/


let url='https://api.it120.cc/hjl/shop/goods/category/all'
let detail="https://api.it120.cc/hjl/shop/goods/detail?id=395742"

  function p1() {
     return new Promise((resolve,reject)=>{
          ajax(url,'GET').then(res=>{
            
             resolve(res)

          })

     })
    
  }

   function p2() {
       return new Promise((resolve,reject)=>{

          ajax(detail,'GET').then(res=>{

             resolve(res)

          })

     })
    
  }



    Promise.race([p2(),p1()])
         .then(result=>{

             console.log('result:',result);
        
        })
        


</script>
</html>